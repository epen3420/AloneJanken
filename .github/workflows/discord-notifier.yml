name: Universal Discord Notifier

on:
  workflow_run:
    workflows: ['*']
    types: [completed]

jobs:
  notify_discord:
    if: ${{ github.event.workflow_run.conclusion != 'cancelled' }}
    runs-on: ubuntu-latest
    steps:
      - name: Discordã«é€šçŸ¥ã‚’é€ä¿¡
        uses: rjstone/discord-webhook-notify@v2
        with:
          webhookUrl: ${{ secrets.DISCORD_WEBHOOK }}
          title: "ğŸ”” Workflowå®Œäº†: ${{ github.event.workflow_run.name }}"
          description: |
            **ãƒªãƒã‚¸ãƒˆãƒª:** ${{ github.repository }}
            **ãƒ–ãƒ©ãƒ³ãƒ:** ${{ github.event.workflow_run.head_branch }}
            **çµæœ:** **${{ github.event.workflow_run.conclusion }}**
            [å®Ÿè¡Œè©³ç´°ã‚’è¦‹ã‚‹](${{ github.event.workflow_run.html_url }})
          severity: ${{ github.event.workflow_run.conclusion }}
